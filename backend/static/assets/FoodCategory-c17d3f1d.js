import{d as h,i as y,r as _,w as m,m as w,c as i,u as e,F as p,a as u,b as f,e as g,o as a,A as x,f as $,h as A,k as B}from"./index-2d62b16b.js";import{u as F,A as P}from"./use-swrv-1943a49d.js";import{P as L}from"./PaginatorControl-9549c4eb.js";import{C as b}from"./ClickableContainer-a587937b.js";import"./modulepreload-polyfill-3cfb730f.js";/* empty css               */const R={class:"inner"},V={key:0},D=h({__name:"FoodCategory",setup(q){const k=y(),r=_(1),{data:n,error:l,mutate:v}=F(`/food/of/${k.params.uuid}`,o=>A(o,{p:r.value}));return m(l,o=>{(o==null?void 0:o.code)==404&&B.push({path:"/foods"})}),m(r,()=>v()),(o,s)=>{var d,c;const C=w("LoadingPreview");return a(),i("div",R,[e(l)?(a(),i("h1",V,"Fail to receive data!")):e(n)!=null?(a(),i(p,{key:1},[u(e(P),{title:e(n).category.name,grid:""},{actions:f(()=>[u(e(x),{text:"Add Food",onClick:s[0]||(s[0]=t=>o.$router.push({path:"/food/new",query:{category:e(n).category.uuid}}))})]),default:f(()=>[(a(!0),i(p,null,$(e(n).view,t=>(a(),g(e(b),{key:t.uuid,title:t.name,image:t.image,onClick:E=>o.$router.push(`/food/${t.uuid}`)},null,8,["title","image","onClick"]))),128))]),_:1},8,["title"]),u(e(L),{current:r.value,"onUpdate:current":s[1]||(s[1]=t=>r.value=t),max:((c=(d=e(n))==null?void 0:d.paginator)==null?void 0:c.max)??1},null,8,["current","max"])],64)):(a(),g(C,{key:2}))])}}});export{D as default};
