import{u as k,A as g}from"./use-swrv-1943a49d.js";import{L as v}from"./LoadingPreview-38bddb96.js";import{P as C}from"./PaginatorControl-9549c4eb.js";import{C as _}from"./ClickableContainer-a587937b.js";import{d as h,r as x,w as A,c as s,u as e,F as c,a as u,b as d,e as p,o as a,A as B,f as $,h as y}from"./index-2d62b16b.js";import"./modulepreload-polyfill-3cfb730f.js";/* empty css               */const F={class:"inner"},L={key:0},j=h({__name:"NewsView",setup(N){const r=x(1),{data:i,error:f,mutate:w}=k("/news",n=>y(n,{p:r.value}));return A(r,()=>w()),(n,o)=>{var l,m;return a(),s("div",F,[e(f)?(a(),s("h1",L,"Fail to receive data!")):e(i)!=null?(a(),s(c,{key:1},[u(e(g),{title:"News",grid:""},{actions:d(()=>[u(e(B),{text:"Add news",onClick:o[0]||(o[0]=t=>n.$router.push("/news/new"))})]),default:d(()=>[(a(!0),s(c,null,$(e(i).view,t=>(a(),p(e(_),{key:t.uuid,title:t.name,image:t.image,onClick:P=>n.$router.push(`/news/${t.uuid}`)},null,8,["title","image","onClick"]))),128))]),_:1}),u(e(C),{current:r.value,"onUpdate:current":o[1]||(o[1]=t=>r.value=t),max:((m=(l=e(i))==null?void 0:l.paginator)==null?void 0:m.max)??1},null,8,["current","max"])],64)):(a(),p(e(v),{key:2}))])}}});export{j as default};
